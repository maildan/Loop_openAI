<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-7.5 -8 632.359375 575" style="max-width: 632.359375px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-svg-1750807459616-4czw68z10"><style>#mermaid-svg-1750807459616-4czw68z10{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#cccccc;}#mermaid-svg-1750807459616-4czw68z10 .error-icon{fill:#5a1d1d;}#mermaid-svg-1750807459616-4czw68z10 .error-text{fill:#f48771;stroke:#f48771;}#mermaid-svg-1750807459616-4czw68z10 .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-1750807459616-4czw68z10 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-1750807459616-4czw68z10 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-1750807459616-4czw68z10 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-1750807459616-4czw68z10 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-1750807459616-4czw68z10 .marker{fill:#cccccc;stroke:#cccccc;}#mermaid-svg-1750807459616-4czw68z10 .marker.cross{stroke:#cccccc;}#mermaid-svg-1750807459616-4czw68z10 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-1750807459616-4czw68z10 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#cccccc;}#mermaid-svg-1750807459616-4czw68z10 .cluster-label text{fill:#e7e7e7;}#mermaid-svg-1750807459616-4czw68z10 .cluster-label span,#mermaid-svg-1750807459616-4czw68z10 p{color:#e7e7e7;}#mermaid-svg-1750807459616-4czw68z10 .label text,#mermaid-svg-1750807459616-4czw68z10 span,#mermaid-svg-1750807459616-4czw68z10 p{fill:#cccccc;color:#cccccc;}#mermaid-svg-1750807459616-4czw68z10 .node rect,#mermaid-svg-1750807459616-4czw68z10 .node circle,#mermaid-svg-1750807459616-4czw68z10 .node ellipse,#mermaid-svg-1750807459616-4czw68z10 .node polygon,#mermaid-svg-1750807459616-4czw68z10 .node path{fill:#282c34;stroke:#404754;stroke-width:1px;}#mermaid-svg-1750807459616-4czw68z10 .flowchart-label text{text-anchor:middle;}#mermaid-svg-1750807459616-4czw68z10 .node .label{text-align:center;}#mermaid-svg-1750807459616-4czw68z10 .node.clickable{cursor:pointer;}#mermaid-svg-1750807459616-4czw68z10 .arrowheadPath{fill:#d7d3cb;}#mermaid-svg-1750807459616-4czw68z10 .edgePath .path{stroke:#cccccc;stroke-width:2.0px;}#mermaid-svg-1750807459616-4czw68z10 .flowchart-link{stroke:#cccccc;fill:none;}#mermaid-svg-1750807459616-4czw68z10 .edgeLabel{background-color:#282c3499;text-align:center;}#mermaid-svg-1750807459616-4czw68z10 .edgeLabel rect{opacity:0.5;background-color:#282c3499;fill:#282c3499;}#mermaid-svg-1750807459616-4czw68z10 .labelBkg{background-color:rgba(40, 44, 52, 0.5);}#mermaid-svg-1750807459616-4czw68z10 .cluster rect{fill:rgba(103, 118, 150, 0.19);stroke:#3e4452;stroke-width:1px;}#mermaid-svg-1750807459616-4czw68z10 .cluster text{fill:#e7e7e7;}#mermaid-svg-1750807459616-4czw68z10 .cluster span,#mermaid-svg-1750807459616-4czw68z10 p{color:#e7e7e7;}#mermaid-svg-1750807459616-4czw68z10 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:#282c34;border:1px solid #3e4452;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-1750807459616-4czw68z10 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#cccccc;}#mermaid-svg-1750807459616-4czw68z10 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1750807459616-4czw68z10_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1750807459616-4czw68z10_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1750807459616-4czw68z10_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1750807459616-4czw68z10_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1750807459616-4czw68z10_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1750807459616-4czw68z10_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g transform="translate(-7.5, -8)" class="root"><g class="clusters"><g id="subGraph0" class="cluster default flowchart-label"><rect height="559" width="616.359375" y="8" x="8" ry="0" rx="0" style=""/><g transform="translate(260.078125, 8)" class="cluster-label"><foreignObject height="20" width="112.203125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Loop AI 아키텍처</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-svg-1750807459616-4czw68z10_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-Frontend LE-API" id="L-Frontend-API-0" d="M259.207,70.092L229.334,78.41C199.461,86.728,139.715,103.364,137.69,119.532C135.665,135.699,191.362,151.398,219.211,159.248L247.059,167.097"/><path marker-end="url(#mermaid-svg-1750807459616-4czw68z10_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-API LE-Frontend" id="L-API-Frontend-0" d="M345.926,165.996L368.739,158.33C391.551,150.664,437.177,135.332,436.841,119.982C436.505,104.631,390.207,89.262,367.058,81.578L343.909,73.894"/><path marker-end="url(#mermaid-svg-1750807459616-4czw68z10_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-API LE-WebSearch" id="L-API-WebSearch-0" d="M252.16,195.097L223.822,203.164C195.484,211.231,138.809,227.366,110.471,245.724C82.133,264.083,82.133,284.667,82.133,305.25C82.133,325.833,82.133,346.417,97.773,362.247C113.412,378.077,144.692,389.154,160.332,394.692L175.971,400.231"/><path marker-end="url(#mermaid-svg-1750807459616-4czw68z10_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-API LE-LocationHandler" id="L-API-LocationHandler-0" d="M264.633,207.75L256.747,213.708C248.861,219.667,233.09,231.583,225.204,247.833C217.318,264.083,217.318,284.667,217.318,305.25C217.318,325.833,217.318,346.417,241.335,362.712C265.352,379.008,313.385,391.016,337.402,397.02L361.419,403.024"/><path marker-end="url(#mermaid-svg-1750807459616-4czw68z10_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-API LE-ChatHandler" id="L-API-ChatHandler-0" d="M317.624,207.75L321.883,213.708C326.141,219.667,334.657,231.583,338.916,244.033C343.174,256.483,343.174,269.467,343.174,275.958L343.174,282.45"/><path marker-end="url(#mermaid-svg-1750807459616-4czw68z10_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-WebSearch LE-Redis" id="L-WebSearch-Redis-0" d="M176.541,436.452L157.723,442.377C138.906,448.302,101.27,460.151,86.695,471.227C72.119,482.303,80.603,492.606,84.845,497.757L89.087,502.909"/><path marker-end="url(#mermaid-svg-1750807459616-4czw68z10_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-Redis LE-WebSearch" id="L-Redis-WebSearch-0" d="M149.293,516.815L190.528,509.346C231.763,501.877,314.233,486.938,337.565,473.818C360.896,460.697,325.09,449.394,307.186,443.743L289.283,438.092"/><path marker-end="url(#mermaid-svg-1750807459616-4czw68z10_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-WebSearch LE-ExaSearch" id="L-WebSearch-ExaSearch-0" d="M210.801,437L204.274,442.833C197.746,448.667,184.69,460.333,194.411,471.834C204.131,483.335,236.627,494.67,252.875,500.337L269.123,506.004"/><path marker-end="url(#mermaid-svg-1750807459616-4czw68z10_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-ExaSearch LE-WebSearch" id="L-ExaSearch-WebSearch-0" d="M381.785,508.08L403.626,502.067C425.466,496.053,469.147,484.027,453.756,471.093C438.365,458.159,363.902,444.318,326.671,437.397L289.439,430.477"/><path marker-end="url(#mermaid-svg-1750807459616-4czw68z10_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-MCP LE-WebSearch" id="L-MCP-WebSearch-0" d="M448.971,332L440.299,337.833C431.627,343.667,414.283,355.333,387.669,366.822C361.054,378.311,325.169,389.623,307.226,395.279L289.283,400.934"/><path marker-end="url(#mermaid-svg-1750807459616-4czw68z10_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-MCP LE-LocationHandler" id="L-MCP-LocationHandler-0" d="M515.897,332L521.819,337.833C527.742,343.667,539.587,355.333,532.533,366.656C525.479,377.978,499.526,388.957,486.55,394.446L473.573,399.935"/><path marker-end="url(#mermaid-svg-1750807459616-4czw68z10_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-AIModel LE-MCP" id="L-AIModel-MCP-0" d="M530.666,208.5L530.666,214.333C530.666,220.167,530.666,231.833,527.201,242.769C523.737,253.705,516.808,263.91,513.343,269.013L509.879,274.115"/><path marker-end="url(#mermaid-svg-1750807459616-4czw68z10_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-API LE-MCP" id="L-API-MCP-0" d="M345.926,201.38L362.692,208.4C379.458,215.42,412.991,229.46,433.247,241.584C453.502,253.708,460.481,263.916,463.97,269.021L467.46,274.125"/></g><g class="edgeLabels"><g transform="translate(79.96875, 120)" class="edgeLabel"><g transform="translate(-35.09375, -10)" class="label"><foreignObject height="20" width="70.1875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">HTTP 요청</span></div></foreignObject></g></g><g transform="translate(482.802734375, 120)" class="edgeLabel"><g transform="translate(-13.84375, -10)" class="label"><foreignObject height="20" width="27.6875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">응답</span></div></foreignObject></g></g><g transform="translate(82.1328125, 305.25)" class="edgeLabel"><g transform="translate(-39.421875, -10)" class="label"><foreignObject height="20" width="78.84375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">웹 검색 요청</span></div></foreignObject></g></g><g transform="translate(217.318359375, 305.25)" class="edgeLabel"><g transform="translate(-46.34375, -10)" class="label"><foreignObject height="20" width="92.6875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">위치 정보 요청</span></div></foreignObject></g></g><g transform="translate(343.173828125, 243.5)" class="edgeLabel"><g transform="translate(-30.09375, -10)" class="label"><foreignObject height="20" width="60.1875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">채팅 요청</span></div></foreignObject></g></g><g transform="translate(63.634765625, 472)" class="edgeLabel"><g transform="translate(-13.84375, -10)" class="label"><foreignObject height="20" width="27.6875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">캐싱</span></div></foreignObject></g></g><g transform="translate(396.703125, 472)" class="edgeLabel"><g transform="translate(-30.09375, -10)" class="label"><foreignObject height="20" width="60.1875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">캐시 조회</span></div></foreignObject></g></g><g transform="translate(171.634765625, 472)" class="edgeLabel"><g transform="translate(-30.09375, -10)" class="label"><foreignObject height="20" width="60.1875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">검색 요청</span></div></foreignObject></g></g><g transform="translate(512.828125, 472)" class="edgeLabel"><g transform="translate(-30.09375, -10)" class="label"><foreignObject height="20" width="60.1875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">검색 결과</span></div></foreignObject></g></g><g transform="translate(396.939453125, 367)" class="edgeLabel"><g transform="translate(-30.09375, -10)" class="label"><foreignObject height="20" width="60.1875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">도구 호출</span></div></foreignObject></g></g><g transform="translate(551.431640625, 367)" class="edgeLabel"><g transform="translate(-30.09375, -10)" class="label"><foreignObject height="20" width="60.1875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">도구 호출</span></div></foreignObject></g></g><g transform="translate(530.666015625, 243.5)" class="edgeLabel"><g transform="translate(-44.87109375, -10)" class="label"><foreignObject height="20" width="89.7421875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">MCP 프로토콜</span></div></foreignObject></g></g><g transform="translate(446.5234375, 243.5)" class="edgeLabel"><g transform="translate(-18.984375, -9.25)" class="label"><foreignObject height="18.5" width="37.96875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">HTTP</span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(299.04296875, 59)" id="flowchart-Frontend-321" class="node default default flowchart-label"><rect height="52" width="79.671875" y="-26" x="-39.8359375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-32.3359375, -18.5)" style="" class="label"><rect/><foreignObject height="37" width="64.671875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Frontend<br />(Next.js)</span></div></foreignObject></g></g><g transform="translate(299.04296875, 181.75)" id="flowchart-API-322" class="node default default flowchart-label"><rect height="52" width="93.765625" y="-26" x="-46.8828125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-39.3828125, -18.5)" style="" class="label"><rect/><foreignObject height="37" width="78.765625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Loop AI API<br />(FastAPI)</span></div></foreignObject></g></g><g transform="translate(230.384765625, 419.5)" id="flowchart-WebSearch-324" class="node default default flowchart-label"><rect height="35" width="107.6875" y="-17.5" x="-53.84375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-46.34375, -10)" style="" class="label"><rect/><foreignObject height="20" width="92.6875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">웹 검색 핸들러</span></div></foreignObject></g></g><g transform="translate(427.322265625, 419.5)" id="flowchart-LocationHandler-325" class="node default default flowchart-label"><rect height="35" width="121.5234375" y="-17.5" x="-60.76171875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-53.26171875, -10)" style="" class="label"><rect/><foreignObject height="20" width="106.5234375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">위치 정보 핸들러</span></div></foreignObject></g></g><g transform="translate(343.173828125, 305.25)" id="flowchart-ChatHandler-326" class="node default default flowchart-label"><rect height="35" width="89.0234375" y="-17.5" x="-44.51171875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-37.01171875, -10)" style="" class="label"><rect/><foreignObject height="20" width="74.0234375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">채팅 핸들러</span></div></foreignObject></g></g><g transform="translate(106.8671875, 524.5)" id="flowchart-Redis-327" class="node default default flowchart-label"><rect height="35" width="84.8515625" y="-17.5" x="-42.42578125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-34.92578125, -10)" style="" class="label"><rect/><foreignObject height="20" width="69.8515625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Redis 캐시</span></div></foreignObject></g></g><g transform="translate(322.1484375, 524.5)" id="flowchart-ExaSearch-328" class="node default default flowchart-label"><rect height="33.5" width="119.2734375" y="-16.75" x="-59.63671875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-52.13671875, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="104.2734375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Exa Search API</span></div></foreignObject></g></g><g transform="translate(488.73828125, 305.25)" id="flowchart-MCP-323" class="node default default flowchart-label"><rect height="53.5" width="86.21875" y="-26.75" x="-43.109375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-35.609375, -19.25)" style="" class="label"><rect/><foreignObject height="38.5" width="71.21875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">MCP 서버<br />(FastMCP)</span></div></foreignObject></g></g><g transform="translate(530.666015625, 181.75)" id="flowchart-AIModel-329" class="node default default flowchart-label"><rect height="53.5" width="113.25" y="-26.75" x="-56.625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-49.125, -19.25)" style="" class="label"><rect/><foreignObject height="38.5" width="98.25"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">AI 모델<br />(Claude/GPT)</span></div></foreignObject></g></g></g></g></g></g></g></svg>