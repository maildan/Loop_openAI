[build]
  base = "frontend"
  command = """
    pnpm install &&
    pnpm run build &&
    pnpm run export
  """
  publish = "out"
  functions = "netlify/functions"  # 서버리스 함수 디렉토리

[build.environment]
  NODE_VERSION = "18"
  NPM_VERSION = "10"
  PNPM_VERSION = "10.12.1"
  GIT_TERMINAL_PROMPT = "0"
  GIT_SSH_COMMAND = "ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no"

[functions]
  node_bundler = "esbuild"  # 최신 번들러 사용

[[redirects]]
  from = "/api/*"
  to = "/.netlify/functions/api/:splat"
  status = 200

# Python 패키지 설치를 위한 환경 설정
[build.processing]
  skip_processing = false 